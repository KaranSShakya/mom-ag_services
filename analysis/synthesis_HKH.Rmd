---
title: "Synthesis Analysis - HKH"
site: workflowr::wflow_site
output:
  workflowr::wflow_html:
    toc: true
editor_options:
  chunk_output_type: console
---

```{r eval=T, echo=F, warning=F, message=F, results='hide'}
source("code/syn_1 - data_organize.r")
library(gt)
```

I have revised this website as well as rechecked my analysis to ensure that the results and analysis are as written. Please look at the steps I took and the recommended conclusion from each analysis.

[Removed Author and Index Seperate Tables Link](synthesis_HKH-omit.html)

## Summary Statistics 

**1. Summary Statistics by Year**

* Focused on the **Year** column (Column D) of your excel file and summarized it. 

![](pic/summary_year.png)

* This result is in Sheet 1 named **Year Summary**. 

* The total is 838, which illustrates that your dataset consists of 838 papers.

**2. Summary Statistics by Country**

* To find out summary by country, the **Geog Unit** (Column AH)'s values were renamed. (Example: "HKH-NP" was renamed to "Nepal"). There **1 NA** which was omitted. 

![](pic/summary_country.png)

* This table is in the final excel file as **Country Summary**. 

***

## Combining Author and Index Keywords
**Please read:** I think it is important to understand how I combined the keywords from *Author* and *Index*. This was a really long process and this is important to help understand how the results were made.

Lets take the example of any one paper. The **author keywords** for this paper was "agriculture", "pesticides", and "agribusiness". The **index keywords** for the same paper was "mountain", "agriculture", "pesticides".

As suggested, I combined both these keywords which became "agriculture", "pesticides", "agribusiness", "mountain", "agriculture", "pesticides". Now, a problem with this is that there are repreated keywords. 

So, I then identified repeated keywords and deleted them. So our final keywords for thet paper was "agriculture", "pesticides", "agribusiness", "mountain". Repeated keywords will bias the results as the same keywords will count as two even though it was from the same one paper.

If you do not understand this, please let me know. This is an important part in combining keywords.

I realized that I have yet to show you **R** so here is a sample of the codes I used to do these functions: [Code Link](code_example.html).  

![](pic/keywords_combined5.png)

* This is the 5 years interval picture for both keywords. I will send you the full excel file of these keywords soon, so you can select and reconsider some variables you want to remove or keep.

* Suggestion is to remove keywords such as "agriculture" as these are all encompassing. But I would leave it to you to select the keywords you find effective.

***

## Word Cloud (Combined Keywords)

Word Clouds are interesting and useful visual tool that can be used to highlight key words. What a world cloud does is look into the frequency of key words. If a key word is used a lot, it will be bigger in the diagram.

I can still work on the visuals for this Word Cloud, so let me know if I need to edit this.

```{r eval=T, echo=F, warning=F, error=F, message=F}
source("code/syn_3-combined.r")
w1.plot
```

***

## Pillars - Keyword over Time 
```{r eval=T, echo=F, warning=F, message=F}
source("code/syn_4-linegraph.R")
```
This is the crude results for the keywords that you groupped.
```{r eval=T, echo=F}
pillars
```
This is an **area chart**. Which shows how each attribute contributes to the total over time.
```{r eval=T, echo=F}
geom_area
```

Recommendations:

* I would remove 1995 and 2020. 2020 is not complete, and showing the figures for 2020 does not help.

* The sudden increase in 2015 is simply due to the fact that there are soo many more papers in 2015.

* I would also revise on the keywords. The 5 categories make sense, but the keywords you have selected for each category can be improved upon. For example, keywords like "crop production" is really generic, and can be a keyword in a paper that is entirely about climate change. To see a better trend, and a better graph, I woudl revise the keywords so that each keyword is specific to its category. Another example is "sustainability". This is another generic keyword that can be applicable to not only engagement. The keywords for drivers are good. 

* Let me know if there are any edits to this graph you would like to see. Visually or graphically. 

***

## Institution Collaboration
**Methodology:**

* Example, in the **Affiliation** excel column author's information are given as follows: **Kaldhara, Kathmandu, Nepal ; 12 Road, Assam, India**

* I seperated each values by **;** then I select the last string character which resulted in **Nepal, India**. This is how I made the graphs. 

* The accuracy of this table is dependent on how well Scopus formats their data, and since I am only looking at countries, performing intra-country analysis is impossible. So to compensate for this omission I added two more variables: **Only HKH Country** to **Only international countries**.

* So far, apart from 3 columns, I had a good result meaning SCOPUS organizes their data well.

```{r eval=T, echo=F, message=F, warning=F}
source("code/syn_5-institute.R")
inst_collaboration
```

**What we can see:**

* There is a lot more HKH-international collaboration than HKH-HKH collaboration.

* Sole HKH countries produced the most papers in all our time intervals.

* HKH with HKH had the lowest collaboration in all our time intervals. 

* **Important** HKH and International Country can also mean there are multiple HKH countries involved with writing the paper. (Nepal + India + USA) would count as *HKH and International* rather than *Two or more HKH countries*.

Here is the table that summarizes the country that each country came from:

![](pic/institution_country.png)

* You can access both the raw table and the figure above in the **Insitution - Collaboration** sheet of the excel file. 

***

## Publication by Country
```{r eval=T, echo=F}
country.plot
```

* This diagram is in the **Country- Summary** sheet.

***

## Sankey Diagram (TEST)
I have never built a Sankey Diagram so this will still be a work in progress. Here is where I am now:

```{r eval=T, echo=F, warning=F, message=F}
source("code/syn_6-sankey.R")
sankey.test
```

***



